<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"flat"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":5,"unescape":false,"preload":"falses"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="项目开始（主框架搭建） 导入图片，设置启动图片，App图标导入启动图片，项目图标，并给项目做好文档管理  视图控制器的设置在项目里设置，设置默认启动控制器为main，添加别的视图控制器  添加UITab Bar Controller视图控制器，然后分别选择两个视图控制器，分别为其添加Navigation Controller（导航控制器）。   复制两个一样的，一个四个，并连接   分别修改it">
<meta property="og:type" content="article">
<meta property="og:title" content="斗鱼直播Demo(一)">
<meta property="og:url" content="http://example.com/2020/05/16/%E6%96%97%E9%B1%BC%E7%9B%B4%E6%92%ADDemo/index.html">
<meta property="og:site_name" content="我不是诸葛亮">
<meta property="og:description" content="项目开始（主框架搭建） 导入图片，设置启动图片，App图标导入启动图片，项目图标，并给项目做好文档管理  视图控制器的设置在项目里设置，设置默认启动控制器为main，添加别的视图控制器  添加UITab Bar Controller视图控制器，然后分别选择两个视图控制器，分别为其添加Navigation Controller（导航控制器）。   复制两个一样的，一个四个，并连接   分别修改it">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527155457748.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222204617627.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527150712661.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527150726189.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527150748148.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527150826067.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527150850144.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222205305599.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527150927776.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222212753838.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222213411750.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222214157900.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210107235033730.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222214430463.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/IMG_02F353E7087B-1.jpeg">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222223657634.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222223940626.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222225741531.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222230152058.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222232828554.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222233021498.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222234406681.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223000904164.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223003721088.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223005759321.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/IMG_F2A62D563CE9-1.jpeg">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223095739279.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223104540169.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/IMG_A737A89F44B3-1.jpeg">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223111112774.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223114120598.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527152906864.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223114538296.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527153022489.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201224154532416.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527153104970.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527153137678.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210108143824450.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527153332769.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201224215013619.png">
<meta property="og:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/IMG_99AF8C6FA944-1.jpeg">
<meta property="article:published_time" content="2020-05-16T05:49:59.000Z">
<meta property="article:modified_time" content="2020-12-30T06:49:00.000Z">
<meta property="article:author" content="zhuguanliang">
<meta property="article:tag" content="Swift Object-C">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527155457748.png">

<link rel="canonical" href="http://example.com/2020/05/16/%E6%96%97%E9%B1%BC%E7%9B%B4%E6%92%ADDemo/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>斗鱼直播Demo(一) | 我不是诸葛亮</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="我不是诸葛亮" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">我不是诸葛亮</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">宁可碌碌，不可无为</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2020/05/16/%E6%96%97%E9%B1%BC%E7%9B%B4%E6%92%ADDemo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="zhuguanliang">
      <meta itemprop="description" content=" iOS developer">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="我不是诸葛亮">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          斗鱼直播Demo(一)
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-05-16 13:49:59" itemprop="dateCreated datePublished" datetime="2020-05-16T13:49:59+08:00">2020-05-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-12-30 14:49:00" itemprop="dateModified" datetime="2020-12-30T14:49:00+08:00">2020-12-30</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527155457748.png" alt="image-20210527155457748"></p>
<p>项目开始（主框架搭建）</p>
<h2 id="导入图片，设置启动图片，App图标"><a href="#导入图片，设置启动图片，App图标" class="headerlink" title="导入图片，设置启动图片，App图标"></a><strong>导入图片</strong>，设置启动图片，App图标</h2><h4 id="导入启动图片，项目图标，并给项目做好文档管理"><a href="#导入启动图片，项目图标，并给项目做好文档管理" class="headerlink" title="导入启动图片，项目图标，并给项目做好文档管理"></a>导入启动图片，项目图标，并给项目做好文档管理</h4><img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222204617627.png" alt="image-20201222204617627" style="zoom: 25%;">

<h2 id="视图控制器的设置"><a href="#视图控制器的设置" class="headerlink" title="视图控制器的设置"></a>视图控制器的设置</h2><h3 id="在项目里设置，设置默认启动控制器为main，添加别的视图控制器"><a href="#在项目里设置，设置默认启动控制器为main，添加别的视图控制器" class="headerlink" title="在项目里设置，设置默认启动控制器为main，添加别的视图控制器"></a>在项目里设置，设置默认启动控制器为main，添加别的视图控制器</h3><img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527150712661.png" alt="image-20210527150712661" style="zoom:50%;">

<p>添加UITab Bar Controller视图控制器，然后分别选择两个视图控制器，分别为其添加Navigation Controller（导航控制器）。</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527150726189.png" alt="image-20210527150726189" style="zoom: 33%;">

<p>复制两个一样的，一个四个，并连接</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527150748148.png" alt="image-20210527150748148" style="zoom: 33%;">

<p>分别修改item名称，首页、关注、直播、我的，然后添加tabbar图片到Assets.在分别设置好每个的图片</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527150826067.png" alt="image-20210527150826067" style="zoom: 33%;">

<p>修复黑屏</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527150850144.png" alt="image-20210527150850144" style="zoom:33%;">

<h3 id="修改TABbar图标为橙色的代码，在AppDelegate下添加"><a href="#修改TABbar图标为橙色的代码，在AppDelegate下添加" class="headerlink" title="修改TABbar图标为橙色的代码，在AppDelegate下添加"></a>修改TABbar图标为橙色的代码，在AppDelegate下添加</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UITabBar.appearance().tintColor = UIColor.orange</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222205305599.png" alt="image-20201222205305599"></p>
<p>视图太多，容易混乱。新建home故事版，如下图</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527150927776.png" alt="image-20210527150927776" style="zoom:33%;">

<p>将各个功能模块拆分出来  ，并且放入自己模块中</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222212753838.png" alt="image-20201222212753838" style="zoom:25%;">

<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222213411750.png" alt="image-20201222213411750" style="zoom:25%;">

<p>为了适配低版本，删连线，用代码方式连接</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222214157900.png" alt="image-20201222214157900" style="zoom:25%;">



<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210107235033730.png" alt="image-20210107235033730" style="zoom: 33%;">

<p>新建视图控制器MainViewController，继承自UITabBarController，然后到故事版将class修改MainViewController（图略）</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222214430463.png" alt="image-20201222214430463" style="zoom: 25%;">

<p>给MainViewController添加新的方法，全部代码如下，这样就获取得子控制器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import UIKit</span><br><span class="line"></span><br><span class="line">class MainViewController: UITabBarController &#123;</span><br><span class="line"></span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        </span><br><span class="line">        addChildVc(StoryName: &quot;Home&quot;)</span><br><span class="line">        addChildVc(StoryName: &quot;Live&quot;)</span><br><span class="line">        addChildVc(StoryName: &quot;Follow&quot;)</span><br><span class="line">        addChildVc(StoryName: &quot;Profile&quot;)</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    private func addChildVc(StoryName: String) &#123;</span><br><span class="line">        //        1.通过Storyboard获取控制器</span><br><span class="line">        let ChildVc = UIStoryboard(name: StoryName, bundle: nil).instantiateInitialViewController()!</span><br><span class="line">       //        2.将childVC作为子控制器</span><br><span class="line">        addChild(ChildVc)</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/IMG_02F353E7087B-1.jpeg" alt="IMG_02F353E7087B-1" style="zoom: 33%;">

<h2 id="设置布局"><a href="#设置布局" class="headerlink" title="设置布局"></a>设置布局</h2><h3 id="首页搭建"><a href="#首页搭建" class="headerlink" title="首页搭建"></a>首页搭建</h3><p>对模块进行mvc的划分，在fider添加M、V、C文件夹,拉到项目里</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222223657634.png" alt="image-20201222223657634" style="zoom:33%;">

<p>创建单独的控制器来管理它，将class修改HomeViewController（图略）cocoa</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222223940626.png" alt="image-20201222223940626" style="zoom: 33%;">

<p>添加<strong>extension</strong>,抽取方法调用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">  override func viewDidLoad() &#123;</span><br><span class="line">    super.viewDidLoad()</span><br><span class="line">      SetupUI()</span><br><span class="line"></span><br><span class="line">  &#125;&#125;</span><br><span class="line"></span><br><span class="line">// Mark:-设置UI界面</span><br><span class="line"></span><br><span class="line">extension HomeViewController &#123;</span><br><span class="line"></span><br><span class="line">  private func SetupUI() &#123;</span><br><span class="line"></span><br><span class="line">  &#125;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="导航栏的设置"><a href="#导航栏的设置" class="headerlink" title="导航栏的设置"></a>导航栏的设置</h3><h4 id="左侧导航栏"><a href="#左侧导航栏" class="headerlink" title="左侧导航栏"></a>左侧导航栏</h4><p>添加左侧导航栏的方法，因为button有点击变灰，我们要自定义customView，不能使用一张图片上去</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222225741531.png" alt="image-20201222225741531" style="zoom: 50%;">



<p>继续在SetupUI方法下面添加代码，并且在<strong>SetupUI</strong>方法中调用</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222230152058.png" alt="image-20201222230152058" style="zoom:50%;">



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">private  func setupNavigationBar()&#123;</span><br><span class="line"></span><br><span class="line">     let btn = UIButton()</span><br><span class="line"> </span><br><span class="line">   btn.setImage(UIImage(named: &quot;logo&quot;), for: .normal)</span><br><span class="line"></span><br><span class="line">   btn.sizeToFit() //根据图片大小自适应</span><br><span class="line"></span><br><span class="line">   navigationItem.leftBarButtonItem = UIBarButtonItem(customView: btn)//customView自定义button</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="右侧导航栏"><a href="#右侧导航栏" class="headerlink" title="右侧导航栏"></a>右侧导航栏</h4><p><img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222232828554.png"></p>
<p>1.搜索历史Item点进去有高亮的效果，要设置两个图标，所以用自定义customView，继续在下方添加代码</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222233021498.png" alt="image-20201222233021498" style="zoom:33%;">

<p>出现问题，3个图标太近，需要设置sizeToFit，添加</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> size <span class="operator">=</span> <span class="type">CGSize</span>(width: <span class="number">40</span>, height: <span class="number">40</span>)</span><br></pre></td></tr></table></figure>

<p>修改代码</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">btn.sizeToFit() <span class="comment">//根据图片大小自适应</span></span><br></pre></td></tr></table></figure>

<p>为</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">historyBtn.frame <span class="operator">=</span> <span class="type">CGRect</span>(origin: <span class="type">CGPoint</span>.zero, size: size) <span class="comment">//根据图片大小自适应</span></span><br></pre></td></tr></table></figure>

<p>添加的代码如下</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> size <span class="operator">=</span> <span class="type">CGSize</span>(width: <span class="number">40</span>, height: <span class="number">40</span>)</span><br><span class="line"><span class="keyword">let</span> historyBtn <span class="operator">=</span> <span class="type">UIButton</span>()</span><br><span class="line">historyBtn.setImage(<span class="type">UIImage</span>(named: <span class="string">&quot;image_my_history&quot;</span>), for: .normal)<span class="comment">//正常</span></span><br><span class="line">historyBtn.setImage(<span class="type">UIImage</span>(named: <span class="string">&quot;Image_my_history_click&quot;</span>), for: .highlighted)<span class="comment">//高亮</span></span><br><span class="line">historyBtn.frame <span class="operator">=</span> <span class="type">CGRect</span>(origin: <span class="type">CGPoint</span>.zero, size: size) <span class="comment">//根据图片大小自适应</span></span><br><span class="line"><span class="keyword">let</span> historyItem <span class="operator">=</span> <span class="type">UIBarButtonItem</span>(customView: historyBtn) <span class="comment">//搜索历史Item</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> searchIBtn <span class="operator">=</span> <span class="type">UIButton</span>()</span><br><span class="line">searchIBtn.setImage(<span class="type">UIImage</span>(named: <span class="string">&quot;btn_search&quot;</span>), for: .normal)<span class="comment">//正常</span></span><br><span class="line">searchIBtn.setImage(<span class="type">UIImage</span>(named: <span class="string">&quot;btn_search_clicked&quot;</span>), for: .highlighted)<span class="comment">//高亮</span></span><br><span class="line">searchIBtn.frame <span class="operator">=</span> <span class="type">CGRect</span>(origin: <span class="type">CGPoint</span>.zero, size: size) <span class="comment">//根据图片大小自适应</span></span><br><span class="line"><span class="keyword">let</span> searchItem <span class="operator">=</span> <span class="type">UIBarButtonItem</span>(customView: searchIBtn)  <span class="comment">//搜索Item</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> qrcodeBtn <span class="operator">=</span> <span class="type">UIButton</span>()</span><br><span class="line">qrcodeBtn.setImage(<span class="type">UIImage</span>(named: <span class="string">&quot;Image_scan&quot;</span>), for: .normal)<span class="comment">//正常</span></span><br><span class="line">qrcodeBtn.setImage(<span class="type">UIImage</span>(named: <span class="string">&quot;Image_scan_click&quot;</span>), for: .highlighted)<span class="comment">//高亮</span></span><br><span class="line">qrcodeBtn.frame <span class="operator">=</span> <span class="type">CGRect</span>(origin: <span class="type">CGPoint</span>.zero, size: size) <span class="comment">//根据图片大小自适应</span></span><br><span class="line"><span class="keyword">let</span> qrcodeItem <span class="operator">=</span> <span class="type">UIBarButtonItem</span>(customView: qrcodeBtn ) <span class="comment">//二维码Item</span></span><br><span class="line">navigationItem.rightBarButtonItems <span class="operator">=</span> [historyItem, searchItem, qrcodeItem]<span class="comment">//设置数组</span></span><br></pre></td></tr></table></figure>

<p>修改后Item，距离变大了</p>
<p><img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201222234406681.png" alt="image-20201222234406681"></p>
<h4 id="对系统类进行扩展"><a href="#对系统类进行扩展" class="headerlink" title="对系统类进行扩展"></a>对系统类进行扩展</h4><p> 以上发现代码重复太多，需要抽取，扩展，在Tools在Fidder打开新建Extension，拖到项目Tools，创建个UIBarButtonItem-Extension.swift 纯swift文件的扩展</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223000904164.png" alt="image-20201223000904164" style="zoom:33%;">

<p>添加如下代码</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIBarButtonItem</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">createItem</span>(<span class="title">ImageName</span> : <span class="title">String</span>, <span class="title">highImageName</span> : <span class="title">String</span>, <span class="title">size</span> : <span class="title">CGSize</span>) -&gt; <span class="title">UIBarButtonItem</span> </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> btn <span class="operator">=</span> <span class="type">UIButton</span>()</span><br><span class="line">        btn.setImage(<span class="type">UIImage</span>(named: <span class="type">ImageName</span>), for: .normal)</span><br><span class="line">        btn.setImage(<span class="type">UIImage</span>(named: <span class="type">ImageName</span>), for: .highlighted)</span><br><span class="line">        btn.frame <span class="operator">=</span> <span class="type">CGRect</span>(origin: <span class="type">CGPoint</span>.zero, size: size)</span><br><span class="line">        <span class="keyword">return</span> <span class="type">UIBarButtonItem</span>(customView: btn)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>修改HomeVC代码，删掉不需要的，修改后：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//        2.设置右侧导航栏</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> size <span class="operator">=</span> <span class="type">CGSize</span>(width: <span class="number">40</span>, height: <span class="number">40</span>)</span><br><span class="line">        <span class="keyword">let</span> historyItem <span class="operator">=</span> <span class="type">UIBarButtonItem</span>.createItem(ImageName: <span class="string">&quot;image_my_history&quot;</span>, highImageName: <span class="string">&quot;Image_my_history_click&quot;</span>, size:size)<span class="comment">//搜索历史Item</span></span><br><span class="line">        <span class="keyword">let</span> searchItem <span class="operator">=</span> <span class="type">UIBarButtonItem</span>.createItem(ImageName: <span class="string">&quot;btn_search&quot;</span>, highImageName: <span class="string">&quot;btn_search_clicked&quot;</span>, size: size)  <span class="comment">//搜索Item</span></span><br><span class="line">        <span class="keyword">let</span> qrcodeItem <span class="operator">=</span> <span class="type">UIBarButtonItem</span>.createItem(ImageName: <span class="string">&quot;Image_scan&quot;</span>, highImageName: <span class="string">&quot;Image_scan_click&quot;</span>, size: size)  <span class="comment">//二维码Item </span></span><br><span class="line">        navigationItem.rightBarButtonItems <span class="operator">=</span> [historyItem, searchItem, qrcodeItem]<span class="comment">//设置数组</span></span><br></pre></td></tr></table></figure>

<p>以上是类方法，但不太好，我们</p>
<h4 id="改用构造函数init-，构造函数不需要写返回值"><a href="#改用构造函数init-，构造函数不需要写返回值" class="headerlink" title="改用构造函数init()，构造函数不需要写返回值"></a>改用构造函数<strong>init</strong>()，构造函数不需要写返回值</h4><p>修改UIBarButtonItem-Extension.swift 代码</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">convenience</span> <span class="function"><span class="keyword">init</span>(<span class="params">ImageName</span> : <span class="type">String</span>, <span class="params">highImageName</span> : <span class="type">String</span>, <span class="params">size</span> : <span class="type">CGSize</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> btn <span class="operator">=</span> <span class="type">UIButton</span>()</span><br><span class="line">    btn.setImage(<span class="type">UIImage</span>(named: <span class="type">ImageName</span>), for: .normal)</span><br><span class="line">    btn.setImage(<span class="type">UIImage</span>(named: <span class="type">ImageName</span>), for: .highlighted)</span><br><span class="line">    btn.frame <span class="operator">=</span> <span class="type">CGRect</span>(origin: <span class="type">CGPoint</span>.zero, size: size)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.<span class="keyword">init</span>(customView : btn)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223003721088.png" alt="image-20201223003721088" style="zoom:33%;">

<p>修改HomeVC如下</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">let</span> size <span class="operator">=</span> <span class="type">CGSize</span>(width: <span class="number">40</span>, height: <span class="number">40</span>)</span><br><span class="line"><span class="keyword">let</span> historyItem <span class="operator">=</span> <span class="type">UIBarButtonItem</span>(ImageName: <span class="string">&quot;image_my_history&quot;</span>, highImageName: <span class="string">&quot;Image_my_history_click&quot;</span>, size: size)<span class="comment">//搜索历史Item</span></span><br><span class="line"><span class="keyword">let</span> searchItem <span class="operator">=</span> <span class="type">UIBarButtonItem</span>(ImageName: <span class="string">&quot;btn_search&quot;</span>, highImageName: <span class="string">&quot;btn_search_clicked&quot;</span>, size: size)<span class="comment">//搜索Item</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> qrcodeItem <span class="operator">=</span> <span class="type">UIBarButtonItem</span>(ImageName: <span class="string">&quot;Image_scan&quot;</span>, highImageName: <span class="string">&quot;Image_scan_click&quot;</span>, size: size)<span class="comment">//二维码Item</span></span><br><span class="line"></span><br><span class="line">navigationItem.rightBarButtonItems <span class="operator">=</span> [historyItem, searchItem, qrcodeItem]<span class="comment">//设置数组</span></span><br></pre></td></tr></table></figure>

<p>同时把左侧的也抽取进行</p>
<p>因为只需要传一个logo,可以使用默认参数</p>
<p>UIBarButtonItem-Extension.swift 里</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">convenience</span> <span class="function"><span class="keyword">init</span>(<span class="params">ImageName</span> : <span class="type">String</span>, <span class="params">highImageName</span> : <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>, <span class="params">size</span> : <span class="type">CGSize</span> <span class="operator">=</span> <span class="type">CGSize</span>.zero)</span></span><br></pre></td></tr></table></figure>

<p>添加条件语句</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">convenience</span> <span class="function"><span class="keyword">init</span>(<span class="params">ImageName</span> : <span class="type">String</span>, <span class="params">highImageName</span> : <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>, <span class="params">size</span> : <span class="type">CGSize</span> <span class="operator">=</span> <span class="type">CGSize</span>.zero)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建UIButton</span></span><br><span class="line">        <span class="keyword">let</span> btn <span class="operator">=</span> <span class="type">UIButton</span>()</span><br><span class="line">        btn.setImage(<span class="type">UIImage</span>(named: <span class="type">ImageName</span>), for: .normal)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.设置btn图片</span></span><br><span class="line">        <span class="keyword">if</span> highImageName <span class="operator">!=</span> <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">            btn.setImage(<span class="type">UIImage</span>(named: <span class="type">ImageName</span>), for: .highlighted)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.设置btn尺寸</span></span><br><span class="line">        <span class="keyword">if</span> size <span class="operator">==</span> <span class="type">CGSize</span>.zero &#123;</span><br><span class="line">            btn.sizeToFit()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            btn.frame <span class="operator">=</span> <span class="type">CGRect</span>(origin: <span class="type">CGPoint</span>.zero, size: size)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.创建UIbarbuttonItem</span></span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(customView : btn)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>同时修改home VC代码后前对比</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223005759321.png" alt="image-20201223005759321" style="zoom:50%;">

<h3 id="导航栏的总结"><a href="#导航栏的总结" class="headerlink" title="导航栏的总结"></a>导航栏的总结</h3><h4 id="在扩展里UIBarButtonItem-Extension使用构造函数init"><a href="#在扩展里UIBarButtonItem-Extension使用构造函数init" class="headerlink" title="在扩展里UIBarButtonItem-Extension使用构造函数init"></a>在扩展里UIBarButtonItem-Extension使用构造函数<strong>init</strong></h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIBarButtonItem</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 便利构造函数: 1&gt; convenience开头 2&gt; 在构造函数中必须明确调用一个设计的构造函数(self)</span></span><br><span class="line">    <span class="keyword">convenience</span> <span class="function"><span class="keyword">init</span>(<span class="params">ImageName</span> : <span class="type">String</span>, <span class="params">highImageName</span> : <span class="type">String</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>, <span class="params">size</span> : <span class="type">CGSize</span> <span class="operator">=</span> <span class="type">CGSize</span>.zero)</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建UIButton</span></span><br><span class="line">        <span class="keyword">let</span> btn <span class="operator">=</span> <span class="type">UIButton</span>()</span><br><span class="line">        btn.setImage(<span class="type">UIImage</span>(named: <span class="type">ImageName</span>), for: .normal)  </span><br><span class="line">        <span class="comment">//2.设置btn图片</span></span><br><span class="line">        <span class="keyword">if</span> highImageName <span class="operator">!=</span> <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">            btn.setImage(<span class="type">UIImage</span>(named: <span class="type">ImageName</span>), for: .highlighted)</span><br><span class="line">        &#125;    </span><br><span class="line">        <span class="comment">//3.设置btn尺寸</span></span><br><span class="line">        <span class="keyword">if</span> size <span class="operator">==</span> <span class="type">CGSize</span>.zero &#123;</span><br><span class="line">            btn.sizeToFit()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            btn.frame <span class="operator">=</span> <span class="type">CGRect</span>(origin: <span class="type">CGPoint</span>.zero, size: size)</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="comment">//4.创建UIbarbuttonItem</span></span><br><span class="line">        <span class="keyword">self</span>.<span class="keyword">init</span>(customView : btn)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="在视图控制器处，设置导航栏"><a href="#在视图控制器处，设置导航栏" class="headerlink" title="在视图控制器处，设置导航栏"></a>在视图控制器处，设置导航栏</h4><p>添加<strong>extension</strong>然后分别设置左右导航栏样式,设置数组，给其添加上</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Mark:-设置UI界面</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">HomeViewController</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">SetupUI</span>()</span> &#123;</span><br><span class="line"><span class="comment">//        1.设置导航栏</span></span><br><span class="line">        setupNavigationBar()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">setupNavigationBar</span>()</span>&#123;</span><br><span class="line"><span class="comment">//        1.设置左侧导航栏</span></span><br><span class="line">        navigationItem.leftBarButtonItem <span class="operator">=</span> <span class="type">UIBarButtonItem</span>(ImageName:<span class="string">&quot;logo&quot;</span> )<span class="comment">//customView自定义button</span></span><br><span class="line">        </span><br><span class="line"><span class="comment">//        2.设置右侧导航栏      </span></span><br><span class="line">        <span class="keyword">let</span> size <span class="operator">=</span> <span class="type">CGSize</span>(width: <span class="number">40</span>, height: <span class="number">40</span>)</span><br><span class="line">        <span class="keyword">let</span> historyItem <span class="operator">=</span> <span class="type">UIBarButtonItem</span>(ImageName: <span class="string">&quot;image_my_history&quot;</span>, highImageName: <span class="string">&quot;Image_my_history_click&quot;</span>, size: size)<span class="comment">//搜索历史Item</span></span><br><span class="line">        <span class="keyword">let</span> searchItem <span class="operator">=</span> <span class="type">UIBarButtonItem</span>(ImageName: <span class="string">&quot;btn_search&quot;</span>, highImageName: <span class="string">&quot;btn_search_clicked&quot;</span>, size: size)<span class="comment">//搜索Item</span></span><br><span class="line">        <span class="keyword">let</span> qrcodeItem <span class="operator">=</span> <span class="type">UIBarButtonItem</span>(ImageName: <span class="string">&quot;Image_scan&quot;</span>, highImageName: <span class="string">&quot;Image_scan_click&quot;</span>, size: size)<span class="comment">//二维码Item</span></span><br><span class="line">        </span><br><span class="line">        navigationItem.rightBarButtonItems <span class="operator">=</span> [historyItem, searchItem, qrcodeItem]<span class="comment">//设置数组</span></span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="首页框架搭建"><a href="#首页框架搭建" class="headerlink" title="首页框架搭建"></a>首页框架搭建</h2><h3 id="对标题栏与下方内容进行封装"><a href="#对标题栏与下方内容进行封装" class="headerlink" title="对标题栏与下方内容进行封装"></a>对标题栏与下方内容进行封装</h3><img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/IMG_F2A62D563CE9-1.jpeg" alt="IMG_F2A62D563CE9-1" style="zoom:50%;">

<p>标题栏的封装</p>
<p>标题栏用lable来做，监听手势点击，内容用UIconnetionView进行封装，</p>
<h4 id="封装PageTitleView（标签栏）"><a href="#封装PageTitleView（标签栏）" class="headerlink" title="封装PageTitleView（标签栏）"></a>封装PageTitleView（标签栏）</h4><ul>
<li><p>在view新建PageTitleView.swift</p>
</li>
<li><p>封装构造函数，让别人在创建对象时，就传入真实需要显示的内容</p>
<ul>
<li>frame：创建对象时确定了frame就可以直接设置子控件的位置和尺寸</li>
<li>titles：显示的所有标题</li>
</ul>
</li>
</ul>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223095739279.png" alt="image-20201223095739279" style="zoom: 33%;">

<h5 id="抽取常量"><a href="#抽取常量" class="headerlink" title="抽取常量"></a>抽取常量</h5><p>在Extension新建Common.swift，并修改为以下代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import UIKit</span><br><span class="line">let KStatusBarH: CGFloat = 20 //状态栏高度</span><br><span class="line">let kNavigationBarH: CGFloat = 44</span><br><span class="line">let kScreenW = UIScreen.main.bounds.width//屏幕的宽度</span><br><span class="line">let kScreenH = UIScreen.main.bounds.height//屏幕的高度</span><br></pre></td></tr></table></figure>

<p>在homevc添加代码，并添加到视图界面</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223104540169.png" alt="image-20201223104540169" style="zoom: 33%;">

<p>主要添加代码如下</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">private</span> <span class="keyword">let</span> <span class="type">KTitleViewH</span> : <span class="type">CGFloat</span> <span class="operator">=</span> <span class="number">40</span>  <span class="comment">//屏幕高度40</span></span><br><span class="line"><span class="comment">//  Mark:-懒加载属性</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">var</span> pageTitleView : <span class="type">PageTitleView</span> <span class="operator">=</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> titleFrame <span class="operator">=</span> <span class="type">CGRect</span>(x: <span class="number">0</span>, y:<span class="type">KStatusBarH</span> <span class="operator">+</span> kNavigationBarH , width:kScreenW, height: <span class="type">KTitleViewH</span>)<span class="comment">//导航栏位置的设置</span></span><br><span class="line">        <span class="keyword">let</span> titles <span class="operator">=</span> [<span class="string">&quot;推荐&quot;</span>,<span class="string">&quot;游戏&quot;</span>,<span class="string">&quot;娱乐&quot;</span>,<span class="string">&quot;趣玩&quot;</span>]</span><br><span class="line">        <span class="keyword">let</span> titleView <span class="operator">=</span> <span class="type">PageTitleView</span>(frame: titleFrame, titles: titles)</span><br><span class="line">        titleView.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.purple</span><br><span class="line">        <span class="keyword">return</span> titleView</span><br><span class="line">        </span><br><span class="line">    &#125;()</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view.addSubview(pageTitleView)</span><br></pre></td></tr></table></figure>

<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/IMG_A737A89F44B3-1.jpeg" alt="IMG_A737A89F44B3-1" style="zoom:50%;">

<h3 id="添加UIscrollView"><a href="#添加UIscrollView" class="headerlink" title="添加UIscrollView"></a>添加UIscrollView</h3><p>在PageTitleView.swift，添加scrollView懒加载，然后添加到视图</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223111112774.png" alt="image-20201223111112774" style="zoom: 33%;">

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARk: - 懒加载属性    </span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">var</span> scrollView : <span class="type">UIScrollView</span> <span class="operator">=</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> scrollView <span class="operator">=</span> <span class="type">UIScrollView</span>()</span><br><span class="line">        scrollView.showsHorizontalScrollIndicator <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">        scrollView.scrollsToTop <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">        scrollView.bounces <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">        <span class="keyword">return</span> scrollView</span><br><span class="line">    &#125;()</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARk: - 设置UI界面</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">PageTitleView</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">setupUI</span>()</span> &#123;</span><br><span class="line"><span class="comment">//        1.添加UIscrollView</span></span><br><span class="line">        addSubview(scrollView)</span><br><span class="line">        scrollView.frame <span class="operator">=</span> bounds</span><br><span class="line"><span class="comment">//        2.添加title对应的label</span></span><br><span class="line">              setupTitleLabels()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>lable的设置，继续添加代码</p>
<p><img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223114120598.png" alt="image-20201223114120598"></p>
<p><img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527152906864.png" alt="image-20210527152906864"></p>
<p>代码如下：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">let</span> kScrollLineH : <span class="type">CGFloat</span> <span class="operator">=</span> <span class="number">2</span> <span class="comment">//滚动条高度</span></span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">setupTitleLabels</span>()</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (index, title) <span class="keyword">in</span> titles.enumerated() &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 0.确定label的一些frame的值</span></span><br><span class="line">        <span class="keyword">let</span> labelW : <span class="type">CGFloat</span> <span class="operator">=</span> frame.width <span class="operator">/</span> <span class="type">CGFloat</span>(titles.count)</span><br><span class="line">        <span class="keyword">let</span> labelH : <span class="type">CGFloat</span> <span class="operator">=</span> frame.height <span class="operator">-</span> kScrollLineH</span><br><span class="line">        <span class="keyword">let</span> labelY : <span class="type">CGFloat</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 1.创建UILabel</span></span><br><span class="line">        <span class="keyword">let</span> label <span class="operator">=</span> <span class="type">UILabel</span>()</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 2.设置Label的属性</span></span><br><span class="line">        label.text <span class="operator">=</span> title</span><br><span class="line">        label.tag <span class="operator">=</span> index</span><br><span class="line">        label.font <span class="operator">=</span> <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">16.0</span>)<span class="comment">//默认字体大小17</span></span><br><span class="line">        label.textColor <span class="operator">=</span> <span class="type">UIColor</span>.darkGray<span class="comment">//默认文字颜色</span></span><br><span class="line">        label.textAlignment <span class="operator">=</span> .center</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 3.设置label的frame</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> labelX : <span class="type">CGFloat</span> <span class="operator">=</span> labelW <span class="operator">*</span> <span class="type">CGFloat</span>(index)</span><br><span class="line">        label.frame <span class="operator">=</span> <span class="type">CGRect</span>(x: labelX, y: labelY, width: labelW, height: labelH)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 4.将label添加到scrollView中</span></span><br><span class="line">        scrollView.addSubview(label)</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>回调home VC，不需要调整UIScrollView的内边距</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201223114538296.png" alt="image-20201223114538296" style="zoom:50%;">

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">automaticallyAdjustsScrollViewInsets = **false**</span><br></pre></td></tr></table></figure>

<p>PageTitleView.swift里添加  setupUI()到构造函数内</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARk: - 自定义构造函数</span></span><br><span class="line"><span class="function"><span class="keyword">init</span>(<span class="params">frame</span>: <span class="type">CGRect</span>, <span class="params">titles</span> : [<span class="type">String</span>])</span> &#123;</span><br><span class="line">    <span class="keyword">self</span>.titles <span class="operator">=</span> titles</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 设置UI界面</span></span><br><span class="line">    setupUI() <span class="comment">//----------添加此行</span></span><br></pre></td></tr></table></figure>

<p>运行项目</p>
<p><img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527153022489.png" alt="image-20210527153022489"></p>
<p>在homeVC删掉 ，去掉紫色</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201224154532416.png" alt="image-20201224154532416" style="zoom: 33%;">

<h5 id="加滚动条和底部的线"><a href="#加滚动条和底部的线" class="headerlink" title="加滚动条和底部的线"></a>加滚动条和底部的线</h5><p>PageTitleView 懒加载创建滚动条，创建个UIlable的数组</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527153104970.png" alt="image-20210527153104970" style="zoom:50%;">

<p>接着把lable添加到数组里面</p>
<p><img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527153137678.png" alt="image-20210527153137678"></p>
<p>设置底线和滚动滑块</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210108143824450.png" alt="image-20210108143824450" style="zoom:50%;">

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARk: - 设置UI界面</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">PageTitleView</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">setupUI</span>()</span> &#123;</span><br><span class="line"><span class="comment">//        1.添加UIscrollView</span></span><br><span class="line">        addSubview(scrollView)</span><br><span class="line">        scrollView.frame <span class="operator">=</span> bounds</span><br><span class="line"><span class="comment">//        2.添加title对应的label</span></span><br><span class="line">        setupTitleLabels()</span><br><span class="line">        <span class="comment">// 3.设置底线和滚动的滑块</span></span><br><span class="line">        setupBottomLineAndScrollLine()</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>添加UIScrollView ，加scrollLine方法，setupBottomLineAndScrollLine方法<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20210527153332769.png" alt="image-20210527153332769"></p>
<p>  把字体的颜色也和下方一样</p>
<p><img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/image-20201224215013619.png" alt="image-20201224215013619"></p>
<p>运行效果</p>
<img src="https://gitee.com/zhu565615430/images/raw/master/CBcityimas/IMG_99AF8C6FA944-1.jpeg" alt="IMG_99AF8C6FA944-1" style="zoom:67%;">

<p>用的代码如下</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">var</span> titleLabels : [<span class="type">UILabel</span>] <span class="operator">=</span> [<span class="type">UILabel</span>]()</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">lazy</span> <span class="keyword">var</span> scrollLine : <span class="type">UIView</span> <span class="operator">=</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> scrollLine <span class="operator">=</span> <span class="type">UIView</span>()</span><br><span class="line">    scrollLine.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.orange</span><br><span class="line">    <span class="keyword">return</span> scrollLine</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">fileprivate</span> <span class="function"><span class="keyword">func</span> <span class="title">setupBottomLineAndScrollLine</span>()</span> &#123;</span><br><span class="line">    <span class="comment">// 1.添加底线</span></span><br><span class="line">    <span class="keyword">let</span> bottomLine <span class="operator">=</span> <span class="type">UIView</span>()</span><br><span class="line">    bottomLine.backgroundColor <span class="operator">=</span> <span class="type">UIColor</span>.lightGray<span class="comment">//颜色</span></span><br><span class="line">    <span class="keyword">let</span> lineH : <span class="type">CGFloat</span> <span class="operator">=</span> <span class="number">0.5</span></span><br><span class="line">    bottomLine.frame <span class="operator">=</span> <span class="type">CGRect</span>(x: <span class="number">0</span>, y: frame.height <span class="operator">-</span> lineH, width: frame.width, height: lineH)</span><br><span class="line">    addSubview(bottomLine)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2.添加scrollLine</span></span><br><span class="line">    <span class="comment">// 2.1.获取第一个Label</span></span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> firstLabel <span class="operator">=</span> titleLabels.first <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    firstLabel.textColor <span class="operator">=</span> <span class="type">UIColor</span>.orange <span class="comment">//  把字体的颜色也和下方一样</span></span><br><span class="line">    <span class="comment">// 2.2.设置scrollLine的属性</span></span><br><span class="line">    scrollView.addSubview(scrollLine)</span><br><span class="line">    scrollLine.frame <span class="operator">=</span> <span class="type">CGRect</span>(x: firstLabel.frame.origin.x, y: frame.height <span class="operator">-</span> kScrollLineH, width: firstLabel.frame.width, height: kScrollLineH)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/04/22/iOS%E8%B0%83%E7%94%A8%E4%B8%80%E4%B8%AA%E6%96%B9%E6%B3%95%E6%97%B6/" rel="prev" title="Runtime消息发送机制">
      <i class="fa fa-chevron-left"></i> Runtime消息发送机制
    </a></div>
      <div class="post-nav-item">
    <a href="/2021/01/02/%E8%AE%B0%E5%BD%95%E4%B8%8B%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91/" rel="next" title="记录下开发过程遇到的坑与笔记">
      记录下开发过程遇到的坑与笔记 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5%E5%9B%BE%E7%89%87%EF%BC%8C%E8%AE%BE%E7%BD%AE%E5%90%AF%E5%8A%A8%E5%9B%BE%E7%89%87%EF%BC%8CApp%E5%9B%BE%E6%A0%87"><span class="nav-number">1.</span> <span class="nav-text">导入图片，设置启动图片，App图标</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5%E5%90%AF%E5%8A%A8%E5%9B%BE%E7%89%87%EF%BC%8C%E9%A1%B9%E7%9B%AE%E5%9B%BE%E6%A0%87%EF%BC%8C%E5%B9%B6%E7%BB%99%E9%A1%B9%E7%9B%AE%E5%81%9A%E5%A5%BD%E6%96%87%E6%A1%A3%E7%AE%A1%E7%90%86"><span class="nav-number">1.0.1.</span> <span class="nav-text">导入启动图片，项目图标，并给项目做好文档管理</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%86%E5%9B%BE%E6%8E%A7%E5%88%B6%E5%99%A8%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="nav-number">2.</span> <span class="nav-text">视图控制器的设置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8%E9%A1%B9%E7%9B%AE%E9%87%8C%E8%AE%BE%E7%BD%AE%EF%BC%8C%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%90%AF%E5%8A%A8%E6%8E%A7%E5%88%B6%E5%99%A8%E4%B8%BAmain%EF%BC%8C%E6%B7%BB%E5%8A%A0%E5%88%AB%E7%9A%84%E8%A7%86%E5%9B%BE%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-number">2.1.</span> <span class="nav-text">在项目里设置，设置默认启动控制器为main，添加别的视图控制器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9TABbar%E5%9B%BE%E6%A0%87%E4%B8%BA%E6%A9%99%E8%89%B2%E7%9A%84%E4%BB%A3%E7%A0%81%EF%BC%8C%E5%9C%A8AppDelegate%E4%B8%8B%E6%B7%BB%E5%8A%A0"><span class="nav-number">2.2.</span> <span class="nav-text">修改TABbar图标为橙色的代码，在AppDelegate下添加</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%B8%83%E5%B1%80"><span class="nav-number">3.</span> <span class="nav-text">设置布局</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A6%96%E9%A1%B5%E6%90%AD%E5%BB%BA"><span class="nav-number">3.1.</span> <span class="nav-text">首页搭建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%BC%E8%88%AA%E6%A0%8F%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="nav-number">3.2.</span> <span class="nav-text">导航栏的设置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B7%A6%E4%BE%A7%E5%AF%BC%E8%88%AA%E6%A0%8F"><span class="nav-number">3.2.1.</span> <span class="nav-text">左侧导航栏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%B3%E4%BE%A7%E5%AF%BC%E8%88%AA%E6%A0%8F"><span class="nav-number">3.2.2.</span> <span class="nav-text">右侧导航栏</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%B9%E7%B3%BB%E7%BB%9F%E7%B1%BB%E8%BF%9B%E8%A1%8C%E6%89%A9%E5%B1%95"><span class="nav-number">3.2.3.</span> <span class="nav-text">对系统类进行扩展</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%94%B9%E7%94%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0init-%EF%BC%8C%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E4%B8%8D%E9%9C%80%E8%A6%81%E5%86%99%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-number">3.2.4.</span> <span class="nav-text">改用构造函数init()，构造函数不需要写返回值</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%BC%E8%88%AA%E6%A0%8F%E7%9A%84%E6%80%BB%E7%BB%93"><span class="nav-number">3.3.</span> <span class="nav-text">导航栏的总结</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8%E6%89%A9%E5%B1%95%E9%87%8CUIBarButtonItem-Extension%E4%BD%BF%E7%94%A8%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0init"><span class="nav-number">3.3.1.</span> <span class="nav-text">在扩展里UIBarButtonItem-Extension使用构造函数init</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8%E8%A7%86%E5%9B%BE%E6%8E%A7%E5%88%B6%E5%99%A8%E5%A4%84%EF%BC%8C%E8%AE%BE%E7%BD%AE%E5%AF%BC%E8%88%AA%E6%A0%8F"><span class="nav-number">3.3.2.</span> <span class="nav-text">在视图控制器处，设置导航栏</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A6%96%E9%A1%B5%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA"><span class="nav-number">4.</span> <span class="nav-text">首页框架搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E6%A0%87%E9%A2%98%E6%A0%8F%E4%B8%8E%E4%B8%8B%E6%96%B9%E5%86%85%E5%AE%B9%E8%BF%9B%E8%A1%8C%E5%B0%81%E8%A3%85"><span class="nav-number">4.1.</span> <span class="nav-text">对标题栏与下方内容进行封装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%81%E8%A3%85PageTitleView%EF%BC%88%E6%A0%87%E7%AD%BE%E6%A0%8F%EF%BC%89"><span class="nav-number">4.1.1.</span> <span class="nav-text">封装PageTitleView（标签栏）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%8A%BD%E5%8F%96%E5%B8%B8%E9%87%8F"><span class="nav-number">4.1.1.1.</span> <span class="nav-text">抽取常量</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0UIscrollView"><span class="nav-number">4.2.</span> <span class="nav-text">添加UIscrollView</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8A%A0%E6%BB%9A%E5%8A%A8%E6%9D%A1%E5%92%8C%E5%BA%95%E9%83%A8%E7%9A%84%E7%BA%BF"><span class="nav-number">4.2.0.1.</span> <span class="nav-text">加滚动条和底部的线</span></a></li></ol></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="zhuguanliang"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">zhuguanliang</p>
  <div class="site-description" itemprop="description"> iOS developer</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">32</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2018 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zhuguanliang</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '3de4a2b0210f93793c23# GitHub Application Client ID',
      clientSecret: '2f81c8cabdd5bd94d83f0c6659984f39b5041e93# GitHub Application Client Secret',
      repo        : 'blog-comments# Repository name to store issues',
      owner       : 'zhuguanliang',
      admin       : ['zhuguanliang# GitHub repo owner and collaborators, only these guys can initialize gitHub issues'],
      id          : '71be59d54edcfad57469b9e3d082e270',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
